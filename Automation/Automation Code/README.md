## ðŸ“„ What This Ruby Script Does

This Ruby script automates the process of assembling a custom 16-bit microprocessor program and generating a ready-to-use simulation testbench. Hereâ€™s how it works:

---

###  1. Reads the assembly source file  
It takes a single assembly (provided as a command-line argument) and reads its entire content. The assembly file is usually a test case that is written to validate the functionality of a single instruction. To see some of the test cases, look at the "Assembly Test Cases" folder in the "Automation" folder. 

###  2. Comments the source for documentation  
Every line of the original assembly code is automatically turned into a comment. This makes it easy to include the original code in test cases without affecting execution.

###  3. Runs the assembler (`customasm`)  
It then runs [`customasm`](https://github.com/HLorenzi/customasm) â€” an open-source assembler â€” to translate the assembly code into machine code formatted specifically for Logisim and other digital circuit simulators.

###  4. Processes the machine code output  
It parses the assemblerâ€™s output, cleans it up, and converts each instruction into a properly formatted hexadecimal literal.

###  5. Generates a simulation template  
Finally, the script prints a complete simulation testbench that:
-  Includes the commented assembly code to refer to
-  Loads the assembled machine code into the simulator
-  Defines a simple clock and control loop to automatically run your program for up to **100 cycles** or until it halts or errors

---

This makes testing the CPU design easy and repeatable. I can get a single output I can copy directly into my simulator.


Here is an example of what the output testbench code (which I copied and paste into Digital's testbench simulator) generated by this Ruby automation script:

<img width="315" alt="image" src="https://github.com/user-attachments/assets/431baaec-cdd6-47b9-b951-e7f0499f2f0c" />

With this Ruby script, I can easily generate this testbench code to unit-test my CPU. And I can copy and paste this tesbench into the simulator on Digital, and run the test case!
